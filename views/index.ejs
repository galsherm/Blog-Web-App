<%- include("partials/header.ejs") %>

  <div class="container">
    <% if (locals.blogPosts && locals.blogPosts.length> 0) { %>

      <ul id="postsList">
        <a id="newPostBtn" href="/newPost">New Post</a>
        <% blogPosts.forEach((post, index)=>{ %>
          <li>

            <h2>
              <%=post.title%>
            </h2>
            <small>
              <%=post.date %>
            </small>
            <p>
              <%=post.content%>
            </p>
            <small>By: <%=post.author%> </small>
            <a class="edit" href="/editPost/<%=index %>">Edit Post</a>
            <a class="delete" href="/api/posts/delete/<%=index %>">Delete</a>
          </li>
          <% }); %>
      </ul>
      <% } else { %>
        <p>No blog posts available.</p>
        <a id="newPostBtn" href="/newPost">Create New Post</a>

        <% } %>
  </div>

  <%- include("partials/footer.ejs") %>